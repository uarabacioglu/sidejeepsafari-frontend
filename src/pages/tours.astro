---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import TourListing from "../components/TourListing.astro";

const apiBase = import.meta.env.PUBLIC_API_URL;

let tours = [];

try {
	const response = await fetch(`${apiBase}tours/`);
	if (response.ok) {
		tours = await response.json();
	}
} catch (error) {
	console.error("Failed to fetch tours:", error);
	tours = [];
}
---

<Layout title="All Tours - Side Jeep Safari">
	<Header
		title="Explore Our Tours"
		subtitle="Choose your perfect adventure from our selection of jeep safari experiences"
	/>
	<TourListing tours={tours} />
</Layout>
